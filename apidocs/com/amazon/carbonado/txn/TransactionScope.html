<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Dec 03 13:53:41 PST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TransactionScope (Carbonado 1.2.3 API)</title>
<meta name="date" content="2013-12-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionScope (Carbonado 1.2.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionScope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/amazon/carbonado/txn/TransactionPair.html" title="class in com.amazon.carbonado.txn"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/txn/TransactionScope.html" target="_top">Frames</a></li>
<li><a href="TransactionScope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.amazon.carbonado.txn</div>
<h2 title="Class TransactionScope" class="title">Class TransactionScope&lt;Txn&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.amazon.carbonado.txn.TransactionScope&lt;Txn&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>Txn</code> - Transaction implementation</dd></dl>
<hr>
<br>
<pre>public class <span class="strong">TransactionScope&lt;Txn&gt;</span>
extends java.lang.Object</pre>
<div class="block">Container of thread local, scoped transactions.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.2</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Brian S O'Neill</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/amazon/carbonado/txn/TransactionManager.html" title="class in com.amazon.carbonado.txn"><code>TransactionManager</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#attach()">attach</a></strong>()</code>
<div class="block">Attach this scope to the current thread, if it has been <a href="../../../../com/amazon/carbonado/txn/TransactionManager.html#detachLocalScope()"><code>detached</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/amazon/carbonado/Transaction.html" title="interface in com.amazon.carbonado">Transaction</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#enter(com.amazon.carbonado.IsolationLevel)">enter</a></strong>(<a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a>&nbsp;level)</code>
<div class="block">Enters a new transaction scope which becomes the active transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/amazon/carbonado/Transaction.html" title="interface in com.amazon.carbonado">Transaction</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#enterTop(com.amazon.carbonado.IsolationLevel)">enterTop</a></strong>(<a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a>&nbsp;level)</code>
<div class="block">Enters a new top-level transaction scope which becomes the active
 transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#getIsolationLevel()">getIsolationLevel</a></strong>()</code>
<div class="block">Returns the isolation level of the active transaction, or null if there
 is no active transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.concurrent.locks.Lock</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#getLock()">getLock</a></strong>()</code>
<div class="block">Returns lock used by TransactionScope.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html" title="type parameter in TransactionScope">Txn</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#getTxn()">getTxn</a></strong>()</code>
<div class="block">Returns the implementation for the active transaction, or null if there
 is no active transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#isForUpdate()">isForUpdate</a></strong>()</code>
<div class="block">Returns true if an active transaction exists and it is for update.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;S extends <a href="../../../../com/amazon/carbonado/Storable.html" title="interface in com.amazon.carbonado">Storable</a>&gt;&nbsp;<br>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#register(java.lang.Class, com.amazon.carbonado.Cursor)">register</a></strong>(java.lang.Class&lt;S&gt;&nbsp;type,
        <a href="../../../../com/amazon/carbonado/Cursor.html" title="interface in com.amazon.carbonado">Cursor</a>&lt;S&gt;&nbsp;cursor)</code>
<div class="block">Registers the given cursor against the active transaction, allowing it
 to be closed on transaction exit or transaction manager close.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;S extends <a href="../../../../com/amazon/carbonado/Storable.html" title="interface in com.amazon.carbonado">Storable</a>&gt;&nbsp;<br>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/txn/TransactionScope.html#unregister(java.lang.Class, com.amazon.carbonado.Cursor)">unregister</a></strong>(java.lang.Class&lt;S&gt;&nbsp;type,
          <a href="../../../../com/amazon/carbonado/Cursor.html" title="interface in com.amazon.carbonado">Cursor</a>&lt;S&gt;&nbsp;cursor)</code>
<div class="block">Unregisters a previously registered cursor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="enter(com.amazon.carbonado.IsolationLevel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enter</h4>
<pre>public&nbsp;<a href="../../../../com/amazon/carbonado/Transaction.html" title="interface in com.amazon.carbonado">Transaction</a>&nbsp;enter(<a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a>&nbsp;level)</pre>
<div class="block">Enters a new transaction scope which becomes the active transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>level</code> - desired isolation level (may be null)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if isolation level higher than
 supported by repository</dd></dl>
</li>
</ul>
<a name="enterTop(com.amazon.carbonado.IsolationLevel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enterTop</h4>
<pre>public&nbsp;<a href="../../../../com/amazon/carbonado/Transaction.html" title="interface in com.amazon.carbonado">Transaction</a>&nbsp;enterTop(<a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a>&nbsp;level)</pre>
<div class="block">Enters a new top-level transaction scope which becomes the active
 transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>level</code> - desired isolation level (may be null)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if isolation level higher than
 supported by repository</dd></dl>
</li>
</ul>
<a name="register(java.lang.Class, com.amazon.carbonado.Cursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public&nbsp;&lt;S extends <a href="../../../../com/amazon/carbonado/Storable.html" title="interface in com.amazon.carbonado">Storable</a>&gt;&nbsp;void&nbsp;register(java.lang.Class&lt;S&gt;&nbsp;type,
                                 <a href="../../../../com/amazon/carbonado/Cursor.html" title="interface in com.amazon.carbonado">Cursor</a>&lt;S&gt;&nbsp;cursor)</pre>
<div class="block">Registers the given cursor against the active transaction, allowing it
 to be closed on transaction exit or transaction manager close. If there
 is no active transaction in scope, the cursor is registered as not part
 of a transaction. Cursors should register when created.</div>
</li>
</ul>
<a name="unregister(java.lang.Class, com.amazon.carbonado.Cursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregister</h4>
<pre>public&nbsp;&lt;S extends <a href="../../../../com/amazon/carbonado/Storable.html" title="interface in com.amazon.carbonado">Storable</a>&gt;&nbsp;void&nbsp;unregister(java.lang.Class&lt;S&gt;&nbsp;type,
                                   <a href="../../../../com/amazon/carbonado/Cursor.html" title="interface in com.amazon.carbonado">Cursor</a>&lt;S&gt;&nbsp;cursor)</pre>
<div class="block">Unregisters a previously registered cursor. Cursors should unregister
 when closed.</div>
</li>
</ul>
<a name="getLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLock</h4>
<pre>public&nbsp;java.util.concurrent.locks.Lock&nbsp;getLock()</pre>
<div class="block">Returns lock used by TransactionScope. While holding lock, operations
 are suspended.</div>
</li>
</ul>
<a name="getTxn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxn</h4>
<pre>public&nbsp;<a href="../../../../com/amazon/carbonado/txn/TransactionScope.html" title="type parameter in TransactionScope">Txn</a>&nbsp;getTxn()
           throws java.lang.Exception</pre>
<div class="block">Returns the implementation for the active transaction, or null if there
 is no active transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - thrown by createTxn or reuseTxn</dd></dl>
</li>
</ul>
<a name="isForUpdate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isForUpdate</h4>
<pre>public&nbsp;boolean&nbsp;isForUpdate()</pre>
<div class="block">Returns true if an active transaction exists and it is for update.</div>
</li>
</ul>
<a name="getIsolationLevel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIsolationLevel</h4>
<pre>public&nbsp;<a href="../../../../com/amazon/carbonado/IsolationLevel.html" title="enum in com.amazon.carbonado">IsolationLevel</a>&nbsp;getIsolationLevel()</pre>
<div class="block">Returns the isolation level of the active transaction, or null if there
 is no active transaction.</div>
</li>
</ul>
<a name="attach()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>attach</h4>
<pre>public&nbsp;void&nbsp;attach()</pre>
<div class="block">Attach this scope to the current thread, if it has been <a href="../../../../com/amazon/carbonado/txn/TransactionManager.html#detachLocalScope()"><code>detached</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if current thread has a different
 transaction already attached</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionScope.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/amazon/carbonado/txn/TransactionPair.html" title="class in com.amazon.carbonado.txn"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/txn/TransactionScope.html" target="_top">Frames</a></li>
<li><a href="TransactionScope.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006-2013 <a href="https://github.com/Carbonado/Carbonado">Amazon Technologies, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
