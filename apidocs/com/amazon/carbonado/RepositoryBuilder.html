<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Dec 03 13:53:40 PST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>RepositoryBuilder (Carbonado 1.2.3 API)</title>
<meta name="date" content="2013-12-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RepositoryBuilder (Carbonado 1.2.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RepositoryBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/amazon/carbonado/RepositoryBuilder.html" target="_top">Frames</a></li>
<li><a href="RepositoryBuilder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.amazon.carbonado</div>
<h2 title="Interface RepositoryBuilder" class="title">Interface RepositoryBuilder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/amazon/carbonado/spi/AbstractRepositoryBuilder.html" title="class in com.amazon.carbonado.spi">AbstractRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/sleepycat/BDBRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.sleepycat">BDBRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/indexed/IndexedRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.indexed">IndexedRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/jdbc/JDBCRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.jdbc">JDBCRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/logging/LoggingRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.logging">LoggingRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/map/MapRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.map">MapRepositoryBuilder</a>, <a href="../../../com/amazon/carbonado/repo/replicated/ReplicatedRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.replicated">ReplicatedRepositoryBuilder</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">RepositoryBuilder</span></pre>
<div class="block">Standard interface for building up configuration and opening a <a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado"><code>Repository</code></a> instance. All repository implementations should be constructable
 via a builder that implements this interface. Builders should follow a
 pattern where configuration is supplied via property access methods. With
 this design, each item can have extensive documentation and optional
 configuration can be ignored.

 <p>A builder design also offers advantages over constructors in that a
 different repository can be built depending on the specific
 configuration. This logic is hidden, making it easier to use repositories
 that would otherwise require complex steps to construct.

 <p>RepositoryBuilders are not expected to be thread-safe, but the
 Repositories they build are thread-safe.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Brian S O'Neill</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#addTriggerFactory(com.amazon.carbonado.TriggerFactory)">addTriggerFactory</a></strong>(<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&nbsp;factory)</code>
<div class="block">Optionally add a TriggerFactory which will be called upon to create an
 initial trigger for each Storable type that the Repository supports.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#build()">build</a></strong>()</code>
<div class="block">Builds a repository instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#build(java.util.concurrent.atomic.AtomicReference)">build</a></strong>(java.util.concurrent.atomic.AtomicReference&lt;<a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a>&gt;&nbsp;rootReference)</code>
<div class="block">Builds a repository instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#getName()">getName</a></strong>()</code>
<div class="block">Returns the name of the repository.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Iterable&lt;<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#getTriggerFactories()">getTriggerFactories</a></strong>()</code>
<div class="block">Returns all the TriggerFactories which were added.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#isMaster()">isMaster</a></strong>()</code>
<div class="block">Returns true if repository should assume the role of master, which is
 true by default.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#removeTriggerFactory(com.amazon.carbonado.TriggerFactory)">removeTriggerFactory</a></strong>(<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&nbsp;factory)</code>
<div class="block">Remove a TriggerFactory which was added earlier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#setMaster(boolean)">setMaster</a></strong>(boolean&nbsp;b)</code>
<div class="block">Set to false if repository should not assume the role of master.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/amazon/carbonado/RepositoryBuilder.html#setName(java.lang.String)">setName</a></strong>(java.lang.String&nbsp;name)</code>
<div class="block">Set name for the repository, which is required.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="build()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a>&nbsp;build()
                 throws <a href="../../../com/amazon/carbonado/ConfigurationException.html" title="class in com.amazon.carbonado">ConfigurationException</a>,
                        <a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado">RepositoryException</a></pre>
<div class="block">Builds a repository instance.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/amazon/carbonado/ConfigurationException.html" title="class in com.amazon.carbonado">ConfigurationException</a></code> - if there is a problem in the builder's configuration</dd>
<dd><code><a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado">RepositoryException</a></code> - if there is a general problem opening the repository</dd></dl>
</li>
</ul>
<a name="build(java.util.concurrent.atomic.AtomicReference)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a>&nbsp;build(java.util.concurrent.atomic.AtomicReference&lt;<a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado">Repository</a>&gt;&nbsp;rootReference)
                 throws <a href="../../../com/amazon/carbonado/ConfigurationException.html" title="class in com.amazon.carbonado">ConfigurationException</a>,
                        <a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado">RepositoryException</a></pre>
<div class="block">Builds a repository instance.

 <p>If the repository is being wrapped by a parent repository, the child
 repository will need to know this fact for some operations to work
 correctly. Since the parent repository is not built yet, a reference is
 used instead.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootReference</code> - reference to root parent repository, to be set by
 parent repository upon being built</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/amazon/carbonado/ConfigurationException.html" title="class in com.amazon.carbonado">ConfigurationException</a></code> - if there is a problem in the builder's configuration</dd>
<dd><code><a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado">RepositoryException</a></code> - if there is a general problem opening the repository</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>java.lang.String&nbsp;getName()</pre>
<div class="block">Returns the name of the repository.</div>
</li>
</ul>
<a name="setName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>void&nbsp;setName(java.lang.String&nbsp;name)</pre>
<div class="block">Set name for the repository, which is required.</div>
</li>
</ul>
<a name="isMaster()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMaster</h4>
<pre>boolean&nbsp;isMaster()</pre>
<div class="block">Returns true if repository should assume the role of master, which is
 true by default. Repositories that link different repositories together
 will designate only one as the master.

 <p>A master repository is responsible for <a href="../../../com/amazon/carbonado/Version.html" title="annotation in com.amazon.carbonado"><code>version</code></a> and
 <a href="../../../com/amazon/carbonado/Sequence.html" title="annotation in com.amazon.carbonado"><code>sequence</code></a> properties. For insert operations, a master
 repository must set these properties if they are uninitialized. For
 updates, the version property is checked to see if an <a href="../../../com/amazon/carbonado/OptimisticLockException.html" title="class in com.amazon.carbonado"><code>OptimisticLockException</code></a> should be thrown.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/amazon/carbonado/repo/replicated/ReplicatedRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.replicated"><code>ReplicatedRepositoryBuilder</code></a></dd></dl>
</li>
</ul>
<a name="setMaster(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaster</h4>
<pre>void&nbsp;setMaster(boolean&nbsp;b)</pre>
<div class="block">Set to false if repository should not assume the role of master. By
 default, this option is true. Repositories that link different
 repositories together will designate only one as the master.

 <p>A master repository is responsible for <a href="../../../com/amazon/carbonado/Version.html" title="annotation in com.amazon.carbonado"><code>version</code></a> and
 <a href="../../../com/amazon/carbonado/Sequence.html" title="annotation in com.amazon.carbonado"><code>sequence</code></a> properties. For insert operations, a master
 repository must set these properties if they are uninitialized. For
 updates, the version property is checked to see if an <a href="../../../com/amazon/carbonado/OptimisticLockException.html" title="class in com.amazon.carbonado"><code>OptimisticLockException</code></a> should be thrown.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/amazon/carbonado/repo/replicated/ReplicatedRepositoryBuilder.html" title="class in com.amazon.carbonado.repo.replicated"><code>ReplicatedRepositoryBuilder</code></a></dd></dl>
</li>
</ul>
<a name="addTriggerFactory(com.amazon.carbonado.TriggerFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTriggerFactory</h4>
<pre>boolean&nbsp;addTriggerFactory(<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&nbsp;factory)</pre>
<div class="block">Optionally add a TriggerFactory which will be called upon to create an
 initial trigger for each Storable type that the Repository supports. The
 primary purpose of this method is to allow decorator repositories the
 opportunity to register custom persistence code for each Storable.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if TriggerFactory was added, false if TriggerFactory was
 not added because an equal TriggerFactory is already registered</dd></dl>
</li>
</ul>
<a name="removeTriggerFactory(com.amazon.carbonado.TriggerFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTriggerFactory</h4>
<pre>boolean&nbsp;removeTriggerFactory(<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&nbsp;factory)</pre>
<div class="block">Remove a TriggerFactory which was added earlier.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if TriggerFactory instance was removed, false if not added</dd></dl>
</li>
</ul>
<a name="getTriggerFactories()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTriggerFactories</h4>
<pre>java.lang.Iterable&lt;<a href="../../../com/amazon/carbonado/TriggerFactory.html" title="interface in com.amazon.carbonado">TriggerFactory</a>&gt;&nbsp;getTriggerFactories()</pre>
<div class="block">Returns all the TriggerFactories which were added.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RepositoryBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/amazon/carbonado/Repository.html" title="interface in com.amazon.carbonado"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/amazon/carbonado/RepositoryException.html" title="class in com.amazon.carbonado"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/amazon/carbonado/RepositoryBuilder.html" target="_top">Frames</a></li>
<li><a href="RepositoryBuilder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006-2013 <a href="https://github.com/Carbonado/Carbonado">Amazon Technologies, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
