<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Dec 03 13:53:42 PST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>BelatedCreator (Carbonado 1.2.3 API)</title>
<meta name="date" content="2013-12-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BelatedCreator (Carbonado 1.2.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BelatedCreator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/amazon/carbonado/util/BelatedCreationException.html" title="class in com.amazon.carbonado.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/amazon/carbonado/util/Comparators.html" title="class in com.amazon.carbonado.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/util/BelatedCreator.html" target="_top">Frames</a></li>
<li><a href="BelatedCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.amazon.carbonado.util</div>
<h2 title="Class BelatedCreator" class="title">Class BelatedCreator&lt;T,E extends java.lang.Exception&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.amazon.carbonado.util.BelatedCreator&lt;T,E&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/amazon/carbonado/spi/BelatedRepositoryCreator.html" title="class in com.amazon.carbonado.spi">BelatedRepositoryCreator</a>, <a href="../../../../com/amazon/carbonado/spi/BelatedStorageCreator.html" title="class in com.amazon.carbonado.spi">BelatedStorageCreator</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">BelatedCreator&lt;T,E extends java.lang.Exception&gt;</span>
extends java.lang.Object</pre>
<div class="block">Generic one-shot factory which supports late object creation. If the object
 creation results in an exception or is taking too long, the object produced
 instead is a bogus one. After retrying, if the real object is created, then
 the bogus object turns into a wrapper to the real object.

 <p>Note: If a bogus object is created, the wrapper cannot always be a drop-in
 replacement for the real object. If the wrapper is cloned, it won't have the
 same behavior as cloning the real object. Also, synchronizing on the wrapper
 will not synchronize the real object.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Brian S O'Neill</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#BelatedCreator(java.lang.Class, int)">BelatedCreator</a></strong>(java.lang.Class&lt;<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&gt;&nbsp;type,
              int&nbsp;minRetryDelayMillis)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#createBogus()">createBogus</a></strong>()</code>
<div class="block">Create instance of bogus object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#createdNotification(T)">createdNotification</a></strong>(<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&nbsp;object)</code>
<div class="block">Notification that createReal has produced the real object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#createReal()">createReal</a></strong>()</code>
<div class="block">Create instance of real object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#get(int)">get</a></strong>(int&nbsp;timeoutMillis)</code>
<div class="block">Returns real or bogus object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html#timedOutNotification(long)">timedOutNotification</a></strong>(long&nbsp;timedOutMillis)</code>
<div class="block">Notification that createReal is taking too long.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BelatedCreator(java.lang.Class, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BelatedCreator</h4>
<pre>protected&nbsp;BelatedCreator(java.lang.Class&lt;<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&gt;&nbsp;type,
              int&nbsp;minRetryDelayMillis)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - type of object created</dd><dd><code>minRetryDelayMillis</code> - minimum milliseconds to wait before retrying
 to create object after failure; if negative, never retry</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if type is null or is not an interface</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&nbsp;get(int&nbsp;timeoutMillis)
      throws <a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">E</a> extends java.lang.Exception</pre>
<div class="block">Returns real or bogus object. If real object is returned, then future
 invocations of this method return the same real object instance. This
 method waits for the real object to be created, if it is blocked. If
 real object creation fails immediately, then this method will not wait,
 returning a bogus object immediately instead.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeoutMillis</code> - maximum time to wait for real object before
 returning bogus one; if negative, potentially wait forever</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>E</code> - exception thrown from createReal</dd>
<dd><code><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">E</a> extends java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="createReal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createReal</h4>
<pre>protected abstract&nbsp;<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&nbsp;createReal()
                         throws <a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">E</a> extends java.lang.Exception</pre>
<div class="block">Create instance of real object. If there is a recoverable error creating
 the object, return null. Any error logging must be performed by the
 implementation of this method. If null is returned, expect this method
 to be called again in the future.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>real object, or null if there was a recoverable error</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>E</code> - unrecoverable error</dd>
<dd><code><a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">E</a> extends java.lang.Exception</code></dd></dl>
</li>
</ul>
<a name="createBogus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBogus</h4>
<pre>protected abstract&nbsp;<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&nbsp;createBogus()</pre>
<div class="block">Create instance of bogus object.</div>
</li>
</ul>
<a name="timedOutNotification(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timedOutNotification</h4>
<pre>protected abstract&nbsp;void&nbsp;timedOutNotification(long&nbsp;timedOutMillis)</pre>
<div class="block">Notification that createReal is taking too long. This can be used to log
 a message.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timedOutMillis</code> - milliseconds waited before giving up</dd></dl>
</li>
</ul>
<a name="createdNotification(java.lang.Object)">
<!--   -->
</a><a name="createdNotification(T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createdNotification</h4>
<pre>protected&nbsp;void&nbsp;createdNotification(<a href="../../../../com/amazon/carbonado/util/BelatedCreator.html" title="type parameter in BelatedCreator">T</a>&nbsp;object)</pre>
<div class="block">Notification that createReal has produced the real object. The default
 implementation does nothing.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BelatedCreator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/amazon/carbonado/util/BelatedCreationException.html" title="class in com.amazon.carbonado.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/amazon/carbonado/util/Comparators.html" title="class in com.amazon.carbonado.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/util/BelatedCreator.html" target="_top">Frames</a></li>
<li><a href="BelatedCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006-2013 <a href="https://github.com/Carbonado/Carbonado">Amazon Technologies, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
