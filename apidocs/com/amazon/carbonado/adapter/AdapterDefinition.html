<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue Dec 03 13:53:41 PST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>AdapterDefinition (Carbonado 1.2.3 API)</title>
<meta name="date" content="2013-12-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AdapterDefinition (Carbonado 1.2.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AdapterDefinition.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/amazon/carbonado/adapter/DateTimeAdapter.html" title="annotation in com.amazon.carbonado.adapter"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/adapter/AdapterDefinition.html" target="_top">Frames</a></li>
<li><a href="AdapterDefinition.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.amazon.carbonado.adapter</div>
<h2 title="Annotation Type AdapterDefinition" class="title">Annotation Type AdapterDefinition</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Documented
@Retention(value=RUNTIME)
@Target(value=ANNOTATION_TYPE)
public @interface <span class="strong">AdapterDefinition</span></pre>
<div class="block">Allows annotations to be defined for supporting property types which are not
 natively supported by the underlying storage layer. Repositories must always
 attempt to match property types to the best matching native type, but they
 may have to rely on an adapter to make a conversion.

 <p>The annotation is just a pointer to an adapter implementation class. If
 the adapter class is not explicitly provided, it defaults to a static inner
 class named "Adapter" in the annotation itself.

 <p>The adapter class must have a public constructor that accepts the
 annotation that has the AdapterDefinition annotation. It must also define
 several adapt methods which convert property values. An adapt method needs
 to start with "adapt", accept one parameter and return something.
 <p>
 Example true/false adapter for booleans:
 <pre>
 &#64;Documented
 <b>&#64;Retention(RetentionPolicy.RUNTIME)</b>
 <b>&#64;Target(ElementType.METHOD)</b>
 <b>&#64;AdapterDefinition</b>
 public &#64;interface TrueFalseAdapter {

     public static class Adapter {
         private final String propertyName;

         // Constructor may throw a MalformedTypeException if
         // params supplied by annotation are illegal.

         /**
          * @param type optional type of object that contains the adapted property
          * @param propertyName name of property with adapter
          * @param annotation specific annotation that binds to this adapter class
          *&#47;
         public Adapter(Class type, String propertyName, TrueFalseAdapter annotation) {
             this.propertyName = propertyName;
         }

         // Define at least two adapt methods for each supported property type.

         /**
          * @param propertyValue value to convert from
          *&#47;
         public char adaptToChar(boolean propertyValue) {
             return value ? 'T' : 'F';
         }

         /**
          * @param propertyValue value to convert from
          *&#47;
         public boolean adaptToBoolean(char propertyValue) {
             if (propertyValue == 'T') { return true; };
             if (propertyValue == 'F') { return false; };
             throw new IllegalArgumentException
                 ("Cannot adapt '" + value + "' into boolean for property \"" +
                   propertyName + '"');
         }
     }
 }
 </pre>

 The newly defined adapter can be applied to property accessors.

 <pre>
 public interface UserInfo extends Storable {
     <b>&#64;TrueFalseAdapter</b>
     boolean isAdministrator();
     void setAdministrator(boolean admin);
 }
 </pre></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Brian S O'Neill</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_optional_element_summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Class</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/adapter/AdapterDefinition.html#implementation()">implementation</a></strong></code>
<div class="block">Specify class which will perform property adaptation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/amazon/carbonado/adapter/AdapterDefinition.html#storageTypePreferences()">storageTypePreferences</a></strong></code>
<div class="block">Optionally specify the set of preferred storage types for storing the
 adapted property, in order of most preferred to least preferred.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_element_detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="implementation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>implementation</h4>
<pre>public abstract&nbsp;java.lang.Class&nbsp;implementation</pre>
<div class="block">Specify class which will perform property adaptation. Must have a public
 constructor with the signature
 <code>(Class type, String propertyName, <i>Annotation</i>)</code>,
 where <code><i>Annotation</i></code> refers to the annotation with the
 adapter definition.

 <p>The implementation class need not be explicitly specified. By
 default, the adapter class must be a static inner class of the
 annotation, named "Adapter".</div>
<dl>
<dt>Default:</dt>
<dd>void.class</dd>
</dl>
</li>
</ul>
<a name="storageTypePreferences()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storageTypePreferences</h4>
<pre>public abstract&nbsp;java.lang.Class[]&nbsp;storageTypePreferences</pre>
<div class="block">Optionally specify the set of preferred storage types for storing the
 adapted property, in order of most preferred to least preferred. A type
 in the set must be supported by the adapt methods to be considered.

 <p>If the repository is independent, it needs help on deciding exactly
 how to store the adapted property. A dependent repository will not have
 as much flexibility in selecting an appropriate type, but it may still
 need a hint.</div>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AdapterDefinition.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/amazon/carbonado/adapter/DateTimeAdapter.html" title="annotation in com.amazon.carbonado.adapter"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/amazon/carbonado/adapter/AdapterDefinition.html" target="_top">Frames</a></li>
<li><a href="AdapterDefinition.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006-2013 <a href="https://github.com/Carbonado/Carbonado">Amazon Technologies, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
